---
id: 1224
title: 'Konstru√°ljunk Web API-t!'
date: '2016-08-26T17:32:48+02:00'
author: tacsiazuma
layout: post
guid: '{{ site.url }}/?p=1224'
permalink: /2016/08/26/konstrualjunk-web-api-t-2/
tie_post_bg:
    - ''
    - ''
tie_post_color:
    - ''
    - ''
tie_gallery_style:
    - slider
    - slider
tie_link_url:
    - ''
    - ''
tie_link_desc:
    - ''
    - ''
tie_video_url:
    - ''
    - ''
tie_embed_code:
    - ''
    - ''
tie_audio_mp3:
    - ''
    - ''
tie_audio_m4a:
    - ''
    - ''
tie_audio_oga:
    - ''
    - ''
tie_audio_soundcloud:
    - ''
    - ''
tie_quote_author:
    - ''
    - ''
tie_quote_link:
    - ''
    - ''
tie_quote_text:
    - ''
    - ''
tie_status_facebook:
    - ''
    - ''
tie_status_twitter:
    - ''
    - ''
newsphere-meta-content-alignment:
    - align-content-left
image: 'assets/uploads/2016/08/09202216/api.png'
categories:
    - Backend
    - PHP
    - Zend
tags:
    - api
    - apigility
    - php
    - rest
    - rpc
    - soap
    - zend
---

Amikor a legt√∂bben meghallj√°k azt a r√∂vid√≠t√©st, hogy API, rendk√≠v√ºl k√ºl√∂nf√©le dolgokra asszoci√°lnak. Van akinek a Java Persistence API jut esz√©be, van akinek a Facebook API, m√≠g m√°soknak valami teljesen m√°s...[![api](assets/uploads/2016/08/api.png)](assets/uploads/2016/08/api.png)

Na de mit is jelent maga a r√∂vid√≠t√©s?

Az API, az alkalmaz√°s-programoz√°si interf√©sz r√∂vid√≠t√©se hivatott lenni, de aki eddig nem tudta mi az, azt most se hoztam k√∂zelebb a val√≥s√°ghoz. Ha az API kifejez√©st haszn√°ljuk, akkor egy program azon funkci√≥it vagy szolg√°ltat√°sait soroljuk ide, amiket k√≠v√ºlr≈ël meg tudunk h√≠vni √©s mindennek haszn√°lat√°r√≥l <del>j√≥ esetben</del> dokument√°ci√≥ is sz√ºletett. A l√©nyeg, hogy nek√ºnk nem kell tudnunk mi is t√∂rt√©nik a m√©lyben, mi csak haszn√°ljuk a program ny√∫jtotta szolg√°ltat√°sokat. Az el≈ëz≈ë p√©ld√°kat haszn√°lva, a JPA (Java Persistence API) sor√°n nem kell tudnunk, hogy is kapcsol√≥dik az adatb√°zishoz, hogy is menti le az entit√°sokat, stb. nek√ºnk csak haszn√°lni kell azt. Ugyanez van a Facebook API-val is. Nem tudjuk miben van t√°rolva az adat √©s nem tudjuk hol is van az, mi csak megh√≠vunk egy webes URL-t adott param√©terrel √©s payloaddal √©s bumm, magic.

Mindezt haszn√°lhatjuk egyazon programnyelvben is, amikor is l√©trehozunk egy csomagot, amit m√°sok tudnak haszn√°lni egy publikus API-n kereszt√ºl, de lehets√©ges mindez webes API-kon √°t.

L√°thatjuk, hogy az eg√©sz kiss√© k√©pl√©keny, ez√©rt n√©zz√ºnk egy-egy p√©ld√°t.

Tegy√ºk fel, hogy l√©trehoztunk egy tuti form valid√°l√≥ lib-et, amit boldogan haszn√°lunk a saj√°t kis applik√°ci√≥nkban. Egy id≈ë ut√°n √∫gy d√∂nt√ºnk, hogy j√≥fejek lesz√ºnk √©s mindezt megosztjuk az open-source k√∂z√∂ss√©ggel. Felker√ºl packagist-re (vagy b√°rhova), a k√≥d github-ra is. A githubos readme-ben sz√©pen le van √≠rva, hogy is tudj√°k az emberek haszn√°lni azt, teh√°t dokument√°ltuk az API-t, amin kereszt√ºl el tudj√°k √©rni a csomag ny√∫jtotta szolg√°ltat√°sokat. Aki csak leh√∫zza azt mag√°nak f√ºgg≈ës√©gk√©nt, annak nem kell ismernie, hogy is m≈±k√∂dik, csak annyit kell tudnia, hogy mely publikus met√≥dusokon kereszt√ºl √©ri el √©s azokat hogy kell haszn√°lni. Eml√©ksz√ºnk m√©g a facade [patternre]({{ site.url }}/2016/04/04/facade-pattern/), ugye?

A m√°sik opci√≥, hogy k√©sz√≠tett√ºnk egy oldalt, ahol az emberek k√ºl√∂nf√©le csoportokat tudnak l√©trehozni, azokon bel√ºl pedig mindenf√©le szavaz√°sokat csin√°lni. √çgy m√°r legal√°bb 100 scrum team l√©trehozott n√°lunk egy Slacker of the day szavaz√°st, ahova gy≈±lik az inf√≥. Na most ez eddig t√∂k j√≥, viszont az oldalunk nagyon nem reszponz√≠v, de megkeresnek minket, hogy csin√°ln√°nak hozz√° egy mobilapplik√°ci√≥t, csak nincs webes API hozz√°√≠rva. Na most backenddel jobban vagyunk, mint a design-al, √≠gy ism√©t cs√∫csra j√°ratjuk a j√≥fejs√©g√ºnket √©s √≠runk hozz√° egy √∫n. REST (err≈ël majd k√©s≈ëbb) API-t, amin √°t a mobilapplik√°ci√≥kkal (vagy √©ppen egy m√°sik webalkalmaz√°ssal) is el tudj√°k √©rni az oldalunk ny√∫jtotta szolg√°ltat√°sokat, teh√°t tudnak majd szavazni, lek√©rdezni, stb.

Az√©rt, hogy kicsit visszazuhanjunk az egyszer≈± val√≥s√°gba, akkor j√∂jj√∂n az, hogy aki b√°rmit piszk√°lt PHP-vel SQL adatb√°zisokban, az a PHP egyik MySQL kapcsolatok√©rt felel≈ës API-j√°t haszn√°lta (mysql, mysqli, PDO).

Na de a mai t√©m√°nk most a webes API lesz, ez√©rt besz√©lj√ºnk err≈ël egy kicsit. Jelen esetben az API dokument√°ci√≥ja azt √≠rja le, hogy is tudjuk piszk√°lni a szolg√°ltat√°sokat: milyen URI-n √°t, milyen HTTP met√≥dusokkal, mi legyen a query stringben, milyen header-√∂kkel, mit k√ºldj√ºnk a request body-ban √©s milyen form√°ban kapunk majd v√°laszt.

A web API-knak alapvet≈ëen k√©t nagy form√°j√°t k√ºl√∂nb√∂ztetj√ºk megy, az RPC (remote procedure call) √©s REST (representational state transfer) API-t.

#### RPC[![RPC-diagram](assets/uploads/2016/08/RPC-diagram.jpg)](assets/uploads/2016/08/RPC-diagram.jpg)

RPC eset√©ben az esetek t√∂bbs√©g√©ben egyetlen URI-t hivogatunk, m√©gpedig POST met√≥dussal. Az, hogy mi is a c√©l, azt a k√ºld√∂tt payload hat√°rozza meg. Ez √°ltal√°ban egy strukt√∫r√°lt k√©r√©s, amiben benne lesz az adott m≈±velet neve, valamint a param√©terek. Itt k√©t m√≥dszert k√ºl√∂nb√∂ztet√ºnk meg, XML-RPC-t √©s SOAP-ot. Ez ut√≥bbir√≥l reg√©nyeket lehetne √≠rni, √≠gy arr√≥l most nem √≠rn√©k, de ha lesz √©rdekl≈ëd√©s, akkor sz√≠vesen taglalom majd egy bejegyz√©s sor√°n. De n√©zz√ºnk egy p√©ld√°t:

```
POST /xml-rpc HTTP/1.1
Content-Type: text/xml

<?xml version="1.0" encoding="utf-8"?>
<methodCall>
 <methodName>level.up</methodName>
  <params>
   <param>
     <value><integer>40</integer></value>
   </param>
  </params>
</methodCall>
```

A fenti p√©ld√°ban egy POST k√©r√©st k√ºld√ºnk a /xml-rpc v√©gpontra, a fent l√°that√≥ XML request body-val. J√≥l l√°tszi, hogy a level.up met√≥dust szeretn√©nk megh√≠vni egy integer param√©terrel. A gyakorlatban ez egyszer≈±en egy oszt√°ly egy adott met√≥dus√°ra mappel≈ëdik, hasonl√≥k√©ppen:

```
class Level {
   public function up($level) {
        // black magic, ezt m√°r az API haszn√°l√≥ja nem tudja mit hogyan csin√°l 
   }
}
```

A fenti k√©r√©sre, miut√° a handler oszt√°lyunk feldolgozta azt, hasonl√≥ v√°lasz √©rkezhet:

```
HTTP/1.1 200 OK 
Content-Type: text/xml 
<?xml version="1.0" encoding="utf-8"?> 
<methodResponse> 
  <params> 
   <param> 
    <value><boolean>true</boolean></value> 
   </param> 
  </params> 
</methodResponse>
```

L√°tjuk, hogy a szintl√©p√©s sikeres volt, b√°rmit is jelentsen az a mostani p√©ld√°ban üôÇ A l√©nyeg, hogy hasonl√≥k√©ppen m≈±k√∂dik, mintha csak a k√≥dunkban h√≠vn√°nk meg egy oszt√°lyunk egy met√≥dus√°t, csak ezt egy t√°voli g√©pen tessz√ºk, enn√©lfogva er≈ëforr√°sig√©nyesebb √©s lassabb lesz az.

Akkor n√©zz√ºk, hogy √∂sszefoglalva mit tudunk az RPC-r≈ël?

- Egy v√©gponton √°t, t√∂bbf√©le m≈±velet
- POST k√©r√©seket haszn√°l
- Strukt√∫r√°lt request/response
- Nincs HTTP caching, a HTTP v√°laszk√≥db√≥l nem √°llap√≠that√≥ meg, hogyha hiba volt, mindenk√©pp vizsg√°lni kell azt
- Nem haszn√°lja ki a HTTP protokoll lehet≈ës√©geit

#### REST

A REpresentational State Transfer egy teljesen m√°s megk√∂zel√≠t√©se a dolgoknak. A l√©nyege, hogy itt az adatb√°zisban szerepl≈ë entit√°sok reprezent√°ci√≥ja k√∂zlekedik. A HTTP protokollra √©p√ºl, ez√°ltal pr√≥b√°lja annak minden szolg√°ltat√°s√°t kihaszn√°lni, √∫gy mint:

- T√∂bb v√©gpont, minden URI egyedileg azonos√≠tja az er≈ëforr√°sokat.
- A HTTP protokoll t√∂bb met√≥dus√°t haszn√°lja
- A kliensek megadhatj√°k az √°ltaluk haszn√°lt form√°tumot
- √ñsszekapcsolhatunk er≈ëforr√°sokat, ezzel jelezve a kapcsolatot k√∂zt√ºk
- Alkalmazza az er≈ëforr√°sok cache-el√©s√©t
- Az egyes m≈±veletek sor√°n linkeket is biztos√≠t, hogy a kliens tudja mit is tud tenni ezut√°n

Az RPC-vel szemben ez csup√°n ir√°nymutat√°s, nincs k≈ëbe v√©sve, hogy is kell mindezt implement√°lni, √≠gy egy REST API tervez√©sekor d√∂nt√©sek t√∂mkeleg√©t kell meghoznunk:

- Milyen form√°ban fogjuk reprezent√°lni az adatainkat?
- Ha egy k√©r√©st nem tudunk teljes√≠teni, akkor azt hogy k√∂z√∂lj√ºk a klienssel?
- Ha valami hiba t√∂rt√©nt, ezt milyen form√°ban adjuk tov√°bb, milyen HTTP status code-okkal?
- Hogy fogunk authentik√°lni? A HTTP stateless protokoll √©s hab√°r a session s√ºtik seg√≠ts√©g√ºnkre vannak a mindennapi b√∂ng√©sz√©s sor√°n, de ezek haszn√°lata itt nem javallott. Teh√°t HTTP-vel, OAuth-al vagy API tokennel fogunk authentik√°lni?

Pont emiatt a lazas√°g miatt, a REST rendk√≠v√ºl rugalmas √©s b≈ëv√≠thet≈ë, hab√°r ugyanez√©rt el√©g sok feladatot r√≥ a fejleszt≈ëre, hogy ezeket "meg√°lmodja".

Az el≈ëz≈ë [cikkemben]({{ site.url }}/2016/07/23/cross-platform-mobilosodas-1-resz/) egy hibrid mobilapplik√°ci√≥t k√©sz√≠tett√ºnk, ami statikus adatokat haszn√°lt. Most j√∂jj√∂n az, hogy meg√≠rjuk a hozz√° tartoz√≥ backendet, hogy valahol az ottani m√≥dos√≠t√°sokat let√°roljuk. Az egyszer≈±t≈ël fogunk indulni, szimpl√°n todo-kat szolg√°lunk ki, lehet≈ëv√© tessz√ºk azok m√≥dos√≠t√°s√°t, t√∂rl√©s√©t, hozz√°ad√°s√°t. Azut√°n bevezet√ºnk egy OAuth2-es authentik√°ci√≥t, az egyes todokat list√°ba szervezz√ºk, a list√°kat emberekhez rendelj√ºk, ahogy azt a Wunderlist is csin√°lja.

#### Apigility

A fentiekhez nem m√°st, mint a Zend csapata √°ltal k√©sz√≠tett [Apigility](https://apigility.org/)-t fogjuk haszn√°lni. Ez egy webes API builder tool, amivel k√∂nnyed√©n tudjuk √∂sszekattintgatni az API nagy r√©sz√©t, ez√°ltal sok terhet levesz a v√°llunkr√≥l. R√°ad√°sul nem csak Zend keretrendszerbe tudjuk a kapott k√≥dot beilleszteni, hanem m√°shova is.

Kezdj√ºk azzal, hogy let√∂ltj√ºk azt [innen](https://github.com/zfcampus/zf-apigility-skeleton/releases/download/1.4.0/zf-apigility-skeleton-1.4.0.tgz).

Csomagoljuk ki valahova √©s vagy √°ll√≠tsunk a public mapp√°ra egy VHOST-ot, vagy szimpl√°n a projekt gy√∂ker√©b≈ël ind√≠tsunk egy PHP-s built-in webszervert:

```
$ php -S 0.0.0.0:8888 -t public public/index.php
```

Ezut√°n csapjuk fel a localhost:8888-at √©s n√©zz√ºk mib≈ël √©l√ºnk!

> A module mapp√°ra adjunk √≠r√°si jogot a webszerver felhaszn√°l√≥j√°nak, k√ºl√∂nben a scaffolding nem fog menni!

A fel√ºleten fogad p√°r men√ºpont fel√ºl:

- Content negotiation: itt lehet testreszabni az √°ltalunk kezelt form√°tumokat, hogy mely content-type-ra, mivel is reag√°ljunk.
- Authentication : itt lehet felvenni/szerkeszteni az authentik√°ci√≥s adapterjeinket
- Database : ha m√°r megl√©v≈ë adatb√°zishoz kapcsol√≥dunk, itt tudjuk felvenni az ahhoz tartoz√≥ kapcsolatot (ez fontos lesz majd nek√ºnk)
- Documentation : a gener√°lt/√°ltalunk kit√∂lt√∂tt adatok alapj√°n √∂ssze√°ll√≠tott API dokument√°ci√≥t tal√°lhatjuk itt.
- Package: az elk√©sz√ºlt API-t itt tudjuk valamilyen form√°ban becsomagolni a k√©s≈ëbbi deployra
- About: az aminek l√°tszik

A sidebaron l√°thatjuk, hogy fel tudunk venni √∫j API-t, ez√©rt hozzunk is l√©tre egyet. Ez a module mapp√°ban fog l√©trehozni egy modult a sz√°munkra √©s ezt tudjuk majd k√©s≈ëbb becsomagolni. Legyen a neve mondjuk TodoBackend.[![Selection_003](assets/uploads/2016/08/Selection_003.png)](assets/uploads/2016/08/Selection_003.png)

Itt l√°thatjuk az API-t v√©d≈ë authentik√°ci√≥t, a hozz√° tartoz√≥ REST √©s RPC szolg√°ltat√°sokat (egyel≈ëre 0), valamint egy igen fontos dolgot, m√©gpedig a verzi√≥t. Ez fontos lehet, ha support√°lni akarunk r√©gebbi klienseket is, ahogy az alkalmaz√°s v√°ltozik.

Ha ezzel k√©sz vagyunk, akkor j√∂jj√∂n az, ami igaz√°n meggyors√≠thatja majd a dolgunkat!

El≈ësz√∂r is hozzunk l√©tre egy adatb√°zist √©s adjunk hozz√° egy felhaszn√°l√≥t a megfelel≈ë jogosults√°gokkal!

```
CREATE DATABASE todo¬†COLLATE utf8_hungarian_ci;
CREATE USER 'todo'@'localhost' IDENTIFIED BY 'password';
GRANT ALL ON todo.* TO 'todo'@'localhost';
```

Hozzuk l√©tre a todos t√°bl√°t:

<div class="ui-dialog-content ui-widget-content" id="ui-id-14"><div class="preview_sql"><div class="sqlOuter">```
<pre class="sql-highlight cm-s-default"><span class="cm-keyword">CREATE</span> <span class="cm-keyword">TABLE</span> <span class="cm-variable-2">`todo`</span>.<span class="cm-variable-2">`todo`</span> ( <span class="cm-variable-2">`id`</span> <span class="cm-builtin">BIGINT</span> <span class="cm-keyword">NOT</span> <span class="cm-atom">NULL</span> <span class="cm-keyword">AUTO_INCREMENT</span> ,<span class="cm-variable-2">`name`</span> <span class="cm-builtin">VARCHAR</span>(<span class="cm-number">100</span>) <span class="cm-keyword">NOT</span> <span class="cm-atom">NULL</span> , <span class="cm-variable-2">`done`</span> <span class="cm-builtin">BOOLEAN</span>, <span class="cm-keyword">PRIMARY</span> <span class="cm-keyword">KEY</span> (<span class="cm-variable-2">`id`</span>)) <span class="cm-keyword">ENGINE</span> = <span class="cm-keyword">InnoDB</span>
```

</div>```
<pre class="sql-highlight cm-s-default"><span style="font-family: Georgia, 'Times New Roman', 'Bitstream Charter', Times, serif; line-height: 1.5;">Ha ez megvan, akkor j√∂het egy kis m√°gia!</span>
```

</div></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">Menj√ºnk a m√°r kor√°bban eml√≠tett Database men√ºpontra √©s adjunk hozz√° egy √∫j db adaptert, pl. local MySQL n√©ven. Haszn√°ljuk a PDO_Mysql drivert, a todo adatb√°zist a megfelel≈ë userrel/jelsz√≥val √©s ok√©zzuk le.</div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"></div>> <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">A Charset mez≈ëben az utf8-at √≠rva default azt fogja haszn√°lni, ezzel elker√ºlj√ºk a k√≥dol√°si gondokat</div>

<div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">[![Selection_004](assets/uploads/2016/08/Selection_004.png)](assets/uploads/2016/08/Selection_004.png)</div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">Most menj√ºnk a TodoBackend API-ra √©s adjunk hozz√° egy √∫j service-t, m√©gpedig a DB Connected f√ºlr≈ël. Itt v√°lasszuk ki az im√©nt l√©trehozott adaptert √©s ha mindent j√≥l csin√°ltunk, akkor bizony feldobja nek√ºnk a todos t√°bl√°t, a megfelel≈ë fieldekkel. Csekkoljuk be mellette a checkboxot √©s save.[![Selection_005](assets/uploads/2016/08/Selection_005.png)](assets/uploads/2016/08/Selection_005.png)</div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">Na most meg is jelent a bal oldali list√°ban, hogy ez al√° az API al√° tartozik egy todo nev≈± szolg√°ltat√°s. Ha megnyitjuk, akkor l√°tjuk, hogy mindezt a /todo[/:todo_id] URL-re mappelte.[![Selection_006](assets/uploads/2016/08/Selection_006.png)](assets/uploads/2016/08/Selection_006.png)</div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">Na v√°rjunk csak, akkor ez most m≈±k√∂dik is? Ennyi lenne egy egyszer≈± REST szolg√°ltat√°st csin√°lni? Pr√≥b√°ljuk ki!</div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"></div>> <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">K√©tf√©le v√©gpontot k√ºl√∂nb√∂ztet√ºnk meg alapvet≈ëen. Az egyik az eg√©sz collection-t azonos√≠tja, ez lesz eset√ºnkben a /todo, m√≠g a m√°sik fajta k√©r√©s egy adott entit√°st azonos√≠t, itt a /todo/[identifier] lesz az adott URI. Az elv√©gzend≈ë m≈±velet f√ºgg mindkett≈ët≈ël. Egy GET k√©r√©st ind√≠tva a collection-re, az eg√©sz collection-t szeretn√©nk lek√©rni, m√≠g mindez egy entit√°s eset√©ben az adott entit√°st adja vissza. Ha DELETE-el h√≠vjuk meg az entit√°st, akkor az t√∂r√∂lni fogja, ha PUT-al, akkor m√≥dos√≠tani szeretn√©nk. A collection v√©gpontj√°ra pedig POST-ot k√ºldve tudunk √∫j elemet felvenni. Persze ezek az alapok √©s mi szabadon b≈ëv√≠thetj√ºk ezt (csak dokument√°ljuk le üôÇ )</div>

<div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">L≈ëj√ºnk fel egy PostMan-t √©s k√ºldj√ºnk egy GET k√©r√©st a localhost:8888/todo v√©gpontunkra. Ha j√≥l csin√°ltuk, akkor a v√°laszban ez lesz:</div>```
<pre class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix" data-language="javascript"><span class="sBrace structure-1" id="s-1">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†<span class="sObjectK" id="s-2">"_links"</span><span class="sColon" id="s-3">:</span><span class="sBrace structure-2" id="s-4">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-5">"self"</span><span class="sColon" id="s-6">:</span><span class="sBrace structure-3" id="s-7">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-8">"href"</span><span class="sColon" id="s-9">:</span><span class="sObjectV" id="s-10">"http://localhost:8888/todo"</span>
¬†¬†¬†¬†¬†¬†<span class="sBrace structure-3" id="s-11">}</span>
¬†¬†¬†<span class="sBrace structure-2" id="s-12">}</span><span class="sComma" id="s-13">,</span>
¬†¬†¬†<span class="sObjectK" id="s-14">"_embedded"</span><span class="sColon" id="s-15">:</span><span class="sBrace structure-2" id="s-16">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-17">"todo"</span><span class="sColon" id="s-18">:</span><span class="sBracket structure-3" id="s-19">[ <i class="fa fa-minus-square-o"></i> </span>

¬†¬†¬†¬†¬†¬†<span class="sBracket structure-3" id="s-20">]</span>
¬†¬†¬†<span class="sBrace structure-2" id="s-21">}</span><span class="sComma" id="s-22">,</span>
¬†¬†¬†<span class="sObjectK" id="s-23">"page_count"</span><span class="sColon" id="s-24">:</span><span class="sObjectV" id="s-25">0</span><span class="sComma" id="s-26">,</span>
¬†¬†¬†<span class="sObjectK" id="s-27">"page_size"</span><span class="sColon" id="s-28">:</span><span class="sObjectV" id="s-29">25</span><span class="sComma" id="s-30">,</span>
¬†¬†¬†<span class="sObjectK" id="s-31">"total_items"</span><span class="sColon" id="s-32">:</span><span class="sObjectV" id="s-33">0</span><span class="sComma" id="s-34">,</span>
¬†¬†¬†<span class="sObjectK" id="s-35">"page"</span><span class="sColon" id="s-36">:</span><span class="sObjectV" id="s-37">0</span>
<span class="sBrace structure-1" id="s-38">}</span>
```

<div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">Wow, ez √∫gy n√©z ki m≈±k√∂dik, l√°tjuk a saj√°t URL-t, l√°tjuk ,hogy 25-√∂s√©vel lapoz, 0 elem van egyel≈ëre, 0 oldal √©s mi is azon vagyunk. Na de akkor hozzunk l√©tre egy √∫j elemet, elvileg azt is tudnunk kellene, nem? A REST elvek szerint ha ugyanerre az URL-re k√ºld√ºnk egy POST k√©r√©st, azzal tudunk l√©trehozni egy √∫j elemet.</div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">K√ºldj√ºnk egy POST k√©r√©st ugyanerre az URL-re, de a form data mez≈ëk k√∂z√© vegy√ºk fel a 'name' : 'debug that shit' √©s a 'done' : 0 kulcs-√©rt√©k p√°rt.</div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"></div>> <div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">Ugyanezt k√ºldhetj√ºk JSON form√°tumban a form body-ban, ha a Content-type mez≈ë √©rt√©k√©nek be√°ll√≠tjuk az application/json-t.</div>

<div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">Ennek kellene visszaj√∂nnie:</div>```
<pre class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix" data-language="javascript"><span class="sBrace structure-1" id="s-1">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†<span class="sObjectK" id="s-2">"id"</span><span class="sColon" id="s-3">:</span><span class="sObjectV" id="s-4">"1"</span><span class="sComma" id="s-5">,</span>
¬†¬†¬†<span class="sObjectK" id="s-6">"name"</span><span class="sColon" id="s-7">:</span><span class="sObjectV" id="s-8">"debug¬†that¬†shit"</span><span class="sComma" id="s-9">,</span>
¬†¬†¬†<span class="sObjectK" id="s-10">"done"</span><span class="sColon" id="s-11">:</span><span class="sObjectV" id="s-12">0</span><span class="sComma" id="s-13">,</span>
¬†¬†¬†<span class="sObjectK" id="s-14">"_links"</span><span class="sColon" id="s-15">:</span><span class="sBrace structure-2" id="s-16">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-17">"self"</span><span class="sColon" id="s-18">:</span><span class="sBrace structure-3" id="s-19">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-20">"href"</span><span class="sColon" id="s-21">:</span><span class="sObjectV" id="s-22">"http://localhost:8888/todo/1"</span>
¬†¬†¬†¬†¬†¬†<span class="sBrace structure-3" id="s-23">}</span>
¬†¬†¬†<span class="sBrace structure-2" id="s-24">}</span>
<span class="sBrace structure-1" id="s-25">}</span>
```

Ha beleles√ºnk az adatb√°zisba, akkor l√°thatjuk, hogy ott van az √°ltalunk megadott rekord, teh√°t beillesztett√ºk az adatb√°zisba az elemet, valamint visszaj√∂tt a hozz√° tartoz√≥ ID, s≈ët az erre az elemre mutat√≥ link is, ha k√©s≈ëbb sz√ºks√©g√ºnk lenne r√°. De ha m√°r ideadta, n√©zz√ºk meg, mit kapunk, ha arra a c√≠mre k√ºld√ºnk egy GET k√©r√©st? Igen, ugyanezt, mivel a v√°laszban megkapjuk a k√©sz entit√°st, √≠gy megsp√≥rol nek√ºnk a REST egy k√©r√©st. üôÇ

Most ha k√ºld√ºnk egy GET k√©r√©st a /todo c√≠mre, akkor m√°r mer≈ëben m√°s fogad:

```
<span class="sBrace structure-1" id="s-1">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†<span class="sObjectK" id="s-2">"_links"</span><span class="sColon" id="s-3">:</span><span class="sBrace structure-2" id="s-4">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-5">"self"</span><span class="sColon" id="s-6">:</span><span class="sBrace structure-3" id="s-7">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-8">"href"</span><span class="sColon" id="s-9">:</span><span class="sObjectV" id="s-10">"http://localhost:8888/todo?page=1"</span>
¬†¬†¬†¬†¬†¬†<span class="sBrace structure-3" id="s-11">}</span><span class="sComma" id="s-12">,</span>
¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-13">"first"</span><span class="sColon" id="s-14">:</span><span class="sBrace structure-3" id="s-15">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-16">"href"</span><span class="sColon" id="s-17">:</span><span class="sObjectV" id="s-18">"http://localhost:8888/todo"</span>
¬†¬†¬†¬†¬†¬†<span class="sBrace structure-3" id="s-19">}</span><span class="sComma" id="s-20">,</span>
¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-21">"last"</span><span class="sColon" id="s-22">:</span><span class="sBrace structure-3" id="s-23">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-24">"href"</span><span class="sColon" id="s-25">:</span><span class="sObjectV" id="s-26">"http://localhost:8888/todo?page=1"</span>
¬†¬†¬†¬†¬†¬†<span class="sBrace structure-3" id="s-27">}</span>
¬†¬†¬†<span class="sBrace structure-2" id="s-28">}</span><span class="sComma" id="s-29">,</span>
¬†¬†¬†<span class="sObjectK" id="s-30">"_embedded"</span><span class="sColon" id="s-31">:</span><span class="sBrace structure-2" id="s-32">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-33">"todo"</span><span class="sColon" id="s-34">:</span><span class="sBracket structure-3" id="s-35">[ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†¬†¬†¬†¬†¬†¬†<span class="sBrace structure-4" id="s-36">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-37">"id"</span><span class="sColon" id="s-38">:</span><span class="sObjectV" id="s-39">"1"</span><span class="sComma" id="s-40">,</span>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-41">"name"</span><span class="sColon" id="s-42">:</span><span class="sObjectV" id="s-43">"debug¬†that¬†shit"</span><span class="sComma" id="s-44">,</span>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-45">"done"</span><span class="sColon" id="s-46">:</span><span class="sObjectV" id="s-47">"0"</span><span class="sComma" id="s-48">,</span>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-49">"_links"</span><span class="sColon" id="s-50">:</span><span class="sBrace structure-5" id="s-51">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-52">"self"</span><span class="sColon" id="s-53">:</span><span class="sBrace structure-6" id="s-54">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-55">"href"</span><span class="sColon" id="s-56">:</span><span class="sObjectV" id="s-57">"http://localhost:8888/todo/1"</span>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†<span class="sBrace structure-6" id="s-58">}</span>
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†<span class="sBrace structure-5" id="s-59">}</span>
¬†¬†¬†¬†¬†¬†¬†¬†¬†<span class="sBrace structure-4" id="s-60">}</span>
¬†¬†¬†¬†¬†¬†<span class="sBracket structure-3" id="s-61">]</span>
¬†¬†¬†<span class="sBrace structure-2" id="s-62">}</span><span class="sComma" id="s-63">,</span>
¬†¬†¬†<span class="sObjectK" id="s-64">"page_count"</span><span class="sColon" id="s-65">:</span><span class="sObjectV" id="s-66">1</span><span class="sComma" id="s-67">,</span>
¬†¬†¬†<span class="sObjectK" id="s-68">"page_size"</span><span class="sColon" id="s-69">:</span><span class="sObjectV" id="s-70">25</span><span class="sComma" id="s-71">,</span>
¬†¬†¬†<span class="sObjectK" id="s-72">"total_items"</span><span class="sColon" id="s-73">:</span><span class="sObjectV" id="s-74">1</span><span class="sComma" id="s-75">,</span>
¬†¬†¬†<span class="sObjectK" id="s-76">"page"</span><span class="sColon" id="s-77">:</span><span class="sObjectV" id="s-78">1</span>
<span class="sBrace structure-1" id="s-79">}</span>
```

Ez m√°r az√©rt egy fokkal hosszabb v√°lasz. A \_links alatt tal√°ljuk a paginationre vonatkoz√≥ linkeket, az \_embedded alatt pedig a collectionben rejl≈ë inform√°ci√≥t.

> Akadnak esetek, mikor komplex, nagy adathalmazok √©rkezn√©nek, ilyenkor a collection tartalma nem √©rkezik meg √≠gy, csup√°n az egyes elemekre mutat√≥ linkek.

Na √©s mi a helyzet akkor, ha m√≥dos√≠tani szeretn√©nk egy ilyen elemet? Azt szint√©n az adott entit√°sra mutat√≥ PUT k√©r√©ssel tudjuk el√©rni, m√©gpedig √∫gy, hogy k√ºldj√ºk a m√≥dos√≠tand√≥ mez≈ëket, JSON form√°tumban.

K√ºldj√ºnk h√°t egy PUT k√©r√©st, ezzel jelezve, hogy mi ezt az entit√°st szeretn√©nk m√≥dos√≠tani:

```
PUT /todo/1 HTTP/1.1
Content-type : application/json

{
  "name" : "debug this shit",
  "done" : 1
}
```

Erre pedig a v√°lasz:

```
<span class="sBrace structure-1" id="s-1">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†<span class="sObjectK" id="s-2">"id"</span><span class="sColon" id="s-3">:</span><span class="sObjectV" id="s-4">"1"</span><span class="sComma" id="s-5">,</span>
¬†¬†¬†<span class="sObjectK" id="s-6">"name"</span><span class="sColon" id="s-7">:</span><span class="sObjectV" id="s-8">"debug¬†this¬†shit"</span><span class="sComma" id="s-9">,</span>
¬†¬†¬†<span class="sObjectK" id="s-10">"done"</span><span class="sColon" id="s-11">:</span><span class="sObjectV" id="s-12">"1"</span><span class="sComma" id="s-13">,</span>
¬†¬†¬†<span class="sObjectK" id="s-14">"_links"</span><span class="sColon" id="s-15">:</span><span class="sBrace structure-2" id="s-16">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-17">"self"</span><span class="sColon" id="s-18">:</span><span class="sBrace structure-3" id="s-19">{ <i class="fa fa-minus-square-o"></i> </span>
¬†¬†¬†¬†¬†¬†¬†¬†¬†<span class="sObjectK" id="s-20">"href"</span><span class="sColon" id="s-21">:</span><span class="sObjectV" id="s-22">"http://localhost:8888/todo/1"</span>
¬†¬†¬†¬†¬†¬†<span class="sBrace structure-3" id="s-23">}</span>
¬†¬†¬†<span class="sBrace structure-2" id="s-24">}</span>
<span class="sBrace structure-1" id="s-25">}</span>
```

Itt is megkapjuk teh√°t az entit√°s m√≥dos√≠t√°s ut√°ni √°llapot√°t.

Az entit√°s t√∂rl√©s√©hez pedig egy DELETE k√©r√©st kell ind√≠tanunk erre a c√≠mre √©s volt-nincs todo.

L√°thatjuk h√°t, hogy a legt√∂bb linket a rendelkez√©s√ºnkre bocs√°tja a rendszer, √≠gy a kliensnek csak az elv√©gzend≈ë m≈±velethez tartoz√≥ HTTP verb-el kell tiszt√°ban lennie, a sz√ºks√©ges linkeket megkapja a rendszerb≈ël. Enn√©lfogva ha nem √©getj√ºk azokat bele, hanem mindig a v√°lasz alapj√°n dolgozunk, akkor a szerveren szabadon m√≥dos√≠thatjuk az egyes resource-okon bel√ºli el√©r√©si utakat, mert nem bor√≠tja meg a klienseket.

Na de j√∂jj√∂n egy kis dokument√°ci√≥, majd n√©zz√ºk hogy is lehet ezt deployolni!

Ha a Service-√ºnkre kattintunk, akkor l√°thatjuk a hozz√° tartoz√≥ men√ºket:[![Selection_002](assets/uploads/2016/08/Selection_002.png)](assets/uploads/2016/08/Selection_002.png)

A **General Settings** alatt tudjuk testreszabni a hozz√° tartoz√≥ route-ot, hogy mely HTTP met√≥dusokat engedly√ºk a klienseknek, mi lesz a hydrator t√≠pusa, mi lesz a collection neve (amit a fenti v√°laszban l√°ttunk az \_embedded mez≈ë alatt), az Entity √©s Collection objektumaink oszt√°lyait is lehet megadni, a pagination kezel√©s√©hez sz√ºks√©ges param√©tert, a t√°bl√°ban l√©v≈ë primary key-t.[![Selection_007](assets/uploads/2016/08/Selection_007-1024x349.png)](assets/uploads/2016/08/Selection_007.png)

A **Database settings** alatt tudjuk a service-t egy m√°sik t√°bl√°ra vagy √©ppen adatb√°zisra √°t√°ll√≠tani.[![Selection_008](assets/uploads/2016/08/Selection_008.png)](assets/uploads/2016/08/Selection_008.png)

A **Content Negitiation** alatt lehet be√°ll√≠tani, hogy milyen k√©r√©sekre, milyen v√°laszokkal tudunk v√°laszolni (Accept) , √©s milyen Content-type-ot fogadunk el.[![Selection_009](assets/uploads/2016/08/Selection_009.png)](assets/uploads/2016/08/Selection_009.png)

A **Fields** tab alatt az entity-hez tartoz√≥ mez≈ëket l√°thatjuk, √©s √∫jakat is hozz√°adhatunk ak√°r, ha nem DB connected alapj√°n vett√ºk fel azt, vagy megv√°ltozott id≈ëk√∂zben a s√©ma. K√ºl√∂nb√∂z≈ë valid√°torokat rendelhet√ºnk hozz√°juk. Filtereket, amikkel pl. trimmelhetj√ºk a stringeket, castolhatjuk a v√°ltoz√≥kat, stb.[![Selection_011](assets/uploads/2016/08/Selection_011-1024x162.png)](assets/uploads/2016/08/Selection_011.png)

De n√©zz√ºk meg mit is tudunk szerkeszteni a mez≈ëk√∂n, ugyanis itt lesz majd a dokument√°ci√≥nak egy kis r√©sze:

[![Selection_010](assets/uploads/2016/08/Selection_010.png)](assets/uploads/2016/08/Selection_010.png)

Itt kell be√°ll√≠tani az egyes mez≈ëkh√∂z tartoz√≥ le√≠r√°st, a t√≠pus√°t is megadhatjuk, valamint ha ezen valid√°ci√≥ sor√°n valami hiba t√∂rt√©nik, akkor a hiba√ºzenet is testreszabhat√≥.

Az **Authorization** tab alatt lehet a resource-ra vonatkoz√≥an authoriz√°ci√≥hoz k√∂tni a k√©r√©seket. Jelenleg ez √ºres, mert nem haszn√°lunk semmif√©le authentik√°ci√≥t sem, √≠gy most hagyjuk √≠gy.[![Selection_012](assets/uploads/2016/08/Selection_012.png)](assets/uploads/2016/08/Selection_012.png)

Na √©s itt j√∂n a l√©nyeg, a **Documentation** tab, ami alatt gener√°lt dokument√°ci√≥t tudjuk l√©trehozni. Megadhatjuk a REST service le√≠r√°s√°t, a collection le√≠r√°s√°t, hogy az egyes met√≥dusokkal pontosan mit is √©rhet√ºnk el, milyen v√°laszt fogunk kapni √©s milyen payloadot v√°rnak. A konfigur√°ci√≥ alapj√°n ki tud nek√ºnk gener√°lni a rendszer a sz√ºks√©ges helyeken egy p√©lda v√°laszt √©s k√©r√©st is, amit ak√°r p√©lda adatokkal fel is t√∂lthet√ºnk.[![Selection_013](assets/uploads/2016/08/Selection_013.png)](assets/uploads/2016/08/Selection_013.png)

Ha kit√∂lt√∂tt√ºk ≈ëket, akkor m√°r csak a **Source code** f√ºl marad, ami jelenleg k√©t elemb≈ël √°ll, a **Collection** √©s az **Entity** classb√≥l. Gyakorlatilag ezeket "piszk√°lhatjuk", hab√°r nem a rendszeren kereszt√ºl, mert itt szerkeszteni nem lehet azokat.

Na √©s most n√©zz√ºk meg a gener√°lt dokument√°ci√≥t a navbarban tal√°lhat√≥ Documentation men√º alatt![![Selection_014](assets/uploads/2016/08/Selection_014.png)](assets/uploads/2016/08/Selection_014.png)

L√°thatjuk hogy jelenleg csak egy API van, a TodoBackend, az is a v1-es verzi√≥val, ami linkre kattintva l√°thatjuk a r√©szleteket is:[![Selection_015](assets/uploads/2016/08/Selection_015.png)](assets/uploads/2016/08/Selection_015.png)

Felsorolva az √∂sszes HTTP verb, amit elfogadunk √©s azokra kattintva leny√≠lnak az im√©nt kre√°lt dokument√°ci√≥k is:

[![Selection_016](assets/uploads/2016/08/Selection_016-1024x605.png)](assets/uploads/2016/08/Selection_016.png)

L√°thatjuk, hogy le van √≠rva milyen v√°lasz fejl√©cekkel, status k√≥dokkal t√©rhet√ºnk vissza, mit reprezent√°lnak az egyes mez≈ëk, amiket visszakapunk, no meg mire is j√≥ ez a resource?[![Selection_017](assets/uploads/2016/08/Selection_017-1024x387.png)](assets/uploads/2016/08/Selection_017.png)

Most, hogy k√©sz√≠tett√ºnk egy minim√°l dokument√°ci√≥t az API-hoz, n√©zz√ºk hogy is tudjuk ezt kirakni a hely√©re!

> A dokument√°ci√≥t alapesetben az apigility/documentation c√≠men √©rj√ºk majd el a deployolt packageben.

J√∂jj√∂n a Package f√ºl a navbaron![![Selection_018](assets/uploads/2016/08/Selection_018-1024x315.png)](assets/uploads/2016/08/Selection_018.png)

A package krel√°l√°sa el√©g egy√©rtelm≈± a fentiek alapj√°n, kiv√°lasztjuk a form√°tum√°t (a ZIP a legt√∂bb telep√≠t√©ssel m≈±k√∂dik), hogy melyik API-kat szeretn√©nk benne, futtassa-e a composert (ezzel lehetnek probl√©m√°k), valamint r√°k√©rdez, hogy milyen config f√°jlokat mell√©kelj√ºk. Egyel≈ëre hagyjuk ZIP-en, v√°lasszuk ki a TodoBackendet √©s nyomjuk egy generate-re. Ez a komplett applik√°ci√≥t, vendor mappa n√©lk√ºl bet√∂m√∂r√≠ti egy ZIP-be, ut√°na let√∂lti azt. Ezt t√∂m√∂r√≠ts√ºk ki a hely√©re, √°ll√≠tsunk r√° egy vhost-ot, de el≈ëtte a gy√∂ker√©ben hajtsunk v√©gre egy

```
$ composer install
```

parancsot. Ha r√°k√©rdez a Zend/Validatorra, akkor a module configba injekt√°ljuk azt.

Ha most r√°n√©z√ºnk, akkor a f≈ëoldalon m√°r nem ir√°ny√≠t √°t az admin UI-ra, hanem egy figyelmeztet≈ë oldal j√∂n be, miszerint jelenleg production m√≥dban van az alkalmaz√°s √©s ha szeretn√©nk folytatni a fejleszt√©st, akkor ahhoz bizony a composer kell.[![Selection_019](assets/uploads/2016/08/Selection_019-1024x450.png)](assets/uploads/2016/08/Selection_019.png)

Viszont ha itt megh√≠vjuk a kor√°bban tesztelt URI-t, akkor biza autentikusan csecsre fut. H√°t persze, mert a konfigur√°ci√≥s f√°jlokat nem mell√©kelt√ºk, honnan tudn√° a rendszer, hogy melyik adatb√°zishoz csatlakozzon? Hozzunk l√©tre egy local.php-t a config/autoload mapp√°n bel√ºl √©s t√∂lts√ºk fel!

```
<?php
return [
    'db' => [
        'adapters' => [
            'Local MySQL' => [
                'charset' => 'utf8',
                'database' => 'todo',
                'driver' => 'PDO_Mysql',
                'hostname' => 'boszme_mysql_host',
                'username' => 'todo',
                'password' => 'password',
                'port' => '3306',
            ]
        ],
    ],
];
```

Term√©szetesen √≠rjuk √°t a megfelel≈ë el√©r√©sre √©s felhaszn√°l√≥n√©v/jelsz√≥ komb√≥ra. Ha ezt megtett√ºk, akkor elm√©leti s√≠kon m≈±k√∂dnie kell, viszont m√©g mindig van egy kis apr√≥s√°g, ami [gondot](https://github.com/zfcampus/zf-apigility/issues/176) okozhat (legal√°bbis engem besz√≠vatott Ubuntu alatt). Ez√©rt, a config/application.config.php-ben a

```
'config_glob_paths' => 
array (
0 => '/tmp/ZFDeploy_57c06a6d3c68a/config/autoload/{,*.}{global,local}.php',
),
```

√≠rjuk √°t:

```
'config_glob_paths' => [realpath(__DIR__) . '/autoload/{,*.}{global,local}.php'],
```

Ha ezzel is megvagyunk √©s a config is j√≥, akkor minden fasz √©s m≈±k√∂dik a cucc!

Legk√∂zelebb bel≈ëj√ºk az authentik√°ci√≥t, √∂sszel≈ëj√ºk az Ionicos projekttel √©s kicsit tov√°bb b≈ëv√≠tj√ºk a dolgot!
